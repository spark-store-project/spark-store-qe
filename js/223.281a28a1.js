(self["webpackChunkspark_store"]=self["webpackChunkspark_store"]||[]).push([[223],{3223:(e,t,o)=>{"use strict";o.r(t),o.d(t,{default:()=>O});o(7098);var a=o(3673),l=o(8880),i=o(2323),n=o(5090),r=o.n(n);const s={key:0,class:"toolbox"},c={key:1,class:"dragArea"},u={key:0},d=(0,a._)("img",{src:r()},null,-1),p=(0,a.Uk)(" Spark Store "),h=(0,a._)("img",{src:r()},null,-1),v=(0,a._)("span",null,"Spark Web Store",-1),m={class:"menu"},b={key:2},f=(0,a.Uk)(" © 2021 星火应用商店 ");function g(e,t,o,n,r,g){const w=(0,a.up)("q-btn"),k=(0,a.up)("q-avatar"),_=(0,a.up)("q-toolbar-title"),C=(0,a.up)("router-link"),q=(0,a.up)("q-space"),W=(0,a.up)("q-route-tab"),T=(0,a.up)("q-tabs"),y=(0,a.up)("q-toolbar"),S=(0,a.up)("j-tab"),x=(0,a.up)("j-tabs"),A=(0,a.up)("q-tab"),$=(0,a.up)("router-view"),M=(0,a.up)("q-page-container"),P=(0,a.up)("q-layout");return(0,a.wg)(),(0,a.j4)(P,{view:"lhr lpR fFf"},{default:(0,a.w5)((()=>["electron"==e.mode?((0,a.wg)(),(0,a.iD)("div",s,[(0,a.Wm)(w,{color:"white",padding:"xs",icon:"minimize",onClick:e.min},null,8,["onClick"]),(0,a.Wm)(w,{color:"white",padding:"xs","icon-right":"settings_ethernet",onClick:e.max},null,8,["onClick"]),(0,a.Wm)(w,{color:"white",padding:"xs",icon:"close",onClick:e.close},null,8,["onClick"])])):(0,a.kq)("",!0),"electron"==e.mode?((0,a.wg)(),(0,a.iD)("div",c)):(0,a.kq)("",!0),(0,a.Wm)(l.uT,{appear:"","enter-active-class":"animated fadeInDown","leave-active-class":"animated fadeOutUp"},{default:(0,a.w5)((()=>[e.$route.path.match("store")?(0,a.kq)("",!0):((0,a.wg)(),(0,a.iD)("header",u,[(0,a.Wm)(y,{style:{height:"60px"}},{default:(0,a.w5)((()=>[(0,a.Wm)(C,{to:"/",style:{"text-decoration":"unset",color:"black"}},{default:(0,a.w5)((()=>[(0,a.Wm)(_,null,{default:(0,a.w5)((()=>[(0,a.Wm)(k,null,{default:(0,a.w5)((()=>[d])),_:1}),p])),_:1})])),_:1}),(0,a.Wm)(q),(0,a.Wm)(T,{shrink:"",class:"text-black","active-color":"primary","indicator-color":"primary","narrow-indicator":""},{default:(0,a.w5)((()=>[(0,a.Wm)(W,{to:"/",label:"首页",ripple:!1}),(0,a.Wm)(W,{to:"/download",label:"下载",ripple:!1}),(0,a.Wm)(W,{to:"/store",label:"商店",ripple:!1}),(0,a.Wm)(W,{to:"/fourm",label:"社区",ripple:!1}),(0,a.Wm)(W,{to:"/about",label:"关于",ripple:!1})])),_:1})])),_:1})]))])),_:1}),(0,a.Wm)(l.uT,{appear:"","enter-active-class":"animated fadeInLeft","leave-active-class":"animated fadeOutLeft"},{default:(0,a.w5)((()=>[e.$route.path.match("store")?((0,a.wg)(),(0,a.iD)("div",{key:0,class:(0,i.C_)({storenav:!0,active:e.hActive&&e.nActive&&e.lsA,nActive:e.nActive,seMenu:!e.hActive,isSorts:e.isSorts})},[(0,a._)("nav",null,[(0,a.Wm)(C,{to:"/",style:{"text-decoration":"unset",color:"black",width:"100%"}},{default:(0,a.w5)((()=>[(0,a.Wm)(_,{class:"logo"},{default:(0,a.w5)((()=>[(0,a.Wm)(k,{size:"36px"},{default:(0,a.w5)((()=>[h])),_:1}),v])),_:1})])),_:1}),(0,a.Wm)(x,{modelValue:e.tabs,"onUpdate:modelValue":t[4]||(t[4]=t=>e.tabs=t),vertical:"",shrink:"",ref:"tabs1"},{default:(0,a.w5)((()=>[(0,a.Wm)(S,{name:"recommend",onClick:t[0]||(t[0]=(0,l.iM)((t=>e.to("/store")),["prevent"])),id:"recommend",icon:"recommend",label:"推荐",ripple:!1}),(0,a.Wm)(S,{name:"rank",onClick:t[1]||(t[1]=(0,l.iM)((t=>e.to("/store/rank")),["prevent"])),id:"rank",icon:"format_list_numbered",label:"排行",ripple:!1}),(0,a.Wm)(S,{name:"sorts",onClick:t[2]||(t[2]=(0,l.iM)((t=>e.to("/store/sorts/games")),["prevent"])),id:"sorts",icon:"queue",label:"分类",ripple:!1}),(0,a.Wm)(q),(0,a.Wm)(S,{name:"home",onClick:t[3]||(t[3]=(0,l.iM)((t=>e.to("/")),["prevent"])),id:"home",icon:"home",label:"首页",ripple:!1})])),_:1},8,["modelValue"]),(0,a._)("span",{onClick:t[5]||(t[5]=t=>e.nActive=!e.nActive)})]),(0,a._)("div",m,[(0,a.Wm)(T,{modelValue:e.sort,"onUpdate:modelValue":t[18]||(t[18]=t=>e.sort=t),vertical:"",shrink:""},{default:(0,a.w5)((()=>[(0,a.Wm)(A,{name:"games",onClick:t[6]||(t[6]=t=>e.to("/store/sorts/games")),id:"games",icon:"sports_esports",label:"游戏",ripple:!1}),(0,a.Wm)(A,{name:"network",onClick:t[7]||(t[7]=t=>e.to("/store/sorts/network")),id:"network",icon:"travel_explore",label:"网络",ripple:!1}),(0,a.Wm)(A,{name:"chat",onClick:t[8]||(t[8]=t=>e.to("/store/sorts/chat")),id:"chat",icon:"question_answer",label:"社交",ripple:!1}),(0,a.Wm)(A,{name:"music",onClick:t[9]||(t[9]=t=>e.to("/store/sorts/music")),id:"music",icon:"library_music",label:"音乐",ripple:!1}),(0,a.Wm)(A,{name:"video",onClick:t[10]||(t[10]=t=>e.to("/store/sorts/video")),id:"video",icon:"smart_display",label:"视频",ripple:!1}),(0,a.Wm)(A,{name:"image_graphics",onClick:t[11]||(t[11]=t=>e.to("/store/sorts/image_graphics")),id:"image",icon:"sports_esports",label:"图形",ripple:!1}),(0,a.Wm)(A,{name:"office",onClick:t[12]||(t[12]=t=>e.to("/store/sorts/office")),id:"office",icon:"business_center",label:"办公",ripple:!1}),(0,a.Wm)(A,{name:"reading",onClick:t[13]||(t[13]=t=>e.to("/store/sorts/reading")),id:"reading",icon:"auto_stories",label:"阅读",ripple:!1}),(0,a.Wm)(A,{name:"development",onClick:t[14]||(t[14]=t=>e.to("/store/sorts/development")),id:"development",icon:"developer_board",label:"开发",ripple:!1}),(0,a.Wm)(A,{name:"tools",onClick:t[15]||(t[15]=t=>e.to("/store/sorts/tools")),id:"tools",icon:"handyman",label:"工具",ripple:!1}),(0,a.Wm)(A,{name:"themes",onClick:t[16]||(t[16]=t=>e.to("/store/sorts/themes")),id:"themes",icon:"extension",label:"美化",ripple:!1}),(0,a.Wm)(A,{name:"others",onClick:t[17]||(t[17]=t=>e.to("/store/sorts/others")),id:"others",icon:"pending",label:"其他",ripple:!1})])),_:1},8,["modelValue"])])],2)):(0,a.kq)("",!0)])),_:1}),(0,a.Wm)(M,{style:{overflow:"hidden"}},{default:(0,a.w5)((()=>[(0,a.Wm)($)])),_:1}),e.$route.path.match("store")?(0,a.kq)("",!0):((0,a.wg)(),(0,a.iD)("footer",b,[(0,a.Wm)(y,{style:{height:"10vmin","justify-content":"center"}},{default:(0,a.w5)((()=>[(0,a.Wm)(C,{to:"/",style:{"text-decoration":"unset",color:"black"}},{default:(0,a.w5)((()=>[(0,a.Wm)(_,{style:{color:"rgb(206,206,206)","font-size":"2.4vmin"}},{default:(0,a.w5)((()=>[f])),_:1})])),_:1})])),_:1})]))])),_:1})}var w=o(1959),k=o(4554),_=o(5151),C=o(416),q=o(4955),W=o(4716),T=o(7657),y=o(2547);function S(e,t,o){const a=!0===o?["left","right"]:["top","bottom"];return`absolute-${!0===t?a[0]:a[1]}${e?` text-${e}`:""}`}const x=["left","center","right","justify"],A=(0,a.aZ)({name:"JTabs",props:{modelValue:[Number,String],align:{type:String,default:"center",validator:e=>x.includes(e)},breakpoint:{type:[String,Number],default:600},vertical:Boolean,shrink:Boolean,stretch:Boolean,activeColor:String,activeBgColor:String,indicatorColor:String,leftIcon:String,rightIcon:String,outsideArrows:Boolean,mobileArrows:Boolean,switchIndicator:Boolean,narrowIndicator:Boolean,inlineLabel:Boolean,noCaps:Boolean,dense:Boolean,contentClass:String,"onUpdate:modelValue":Function},setup(e,{slots:t,emit:o}){const l=(0,a.FN)(),{proxy:{$q:i}}=l,{registerTick:n,prepareTick:r}=(0,C.Z)(),{registerTimeout:s}=(0,q.Z)(),c=(0,w.iH)(null),u=(0,w.iH)(null),d=(0,w.iH)(e.modelValue),p=(0,w.iH)(!1),h=(0,w.iH)(!0),v=(0,w.iH)(!1),m=(0,w.iH)(!1),b=(0,w.Fl)((()=>!0===i.platform.is.desktop||!0===e.mobileArrows)),f=[];let g,x,A,$=!1,M=!0===b.value?V:W.ZT;const P=(0,w.Fl)((()=>({activeColor:e.activeColor,activeBgColor:e.activeBgColor,indicatorClass:S(e.indicatorColor,e.switchIndicator,e.vertical),narrowIndicator:e.narrowIndicator,inlineLabel:e.inlineLabel,noCaps:e.noCaps}))),B=(0,w.Fl)((()=>{const t=!0===p.value?"left":!0===m.value?"justify":e.align;return`q-tabs__content--align-${t}`})),I=(0,w.Fl)((()=>`q-tabs row no-wrap items-center q-tabs--${!0===p.value?"":"not-"}scrollable q-tabs--`+(!0===e.vertical?"vertical":"horizontal")+" q-tabs__arrows--"+(!0===b.value&&!0===e.outsideArrows?"outside":"inside")+(!0===e.dense?" q-tabs--dense":"")+(!0===e.shrink?" col-shrink":"")+(!0===e.stretch?" self-stretch":""))),Z=(0,w.Fl)((()=>"q-tabs__content row no-wrap items-center self-stretch hide-scrollbar "+B.value+(void 0!==e.contentClass?` ${e.contentClass}`:"")+(!0===i.platform.is.mobile?" scroll":""))),R=(0,w.Fl)((()=>!0===e.vertical?{container:"height",content:"offsetHeight",scroll:"scrollHeight"}:{container:"width",content:"offsetWidth",scroll:"scrollWidth"}));function L({name:t,setCurrent:a,skipEmit:l,fromRoute:i}){d.value!==t&&(!0!==l&&o("update:modelValue",t),!0!==a&&void 0!==e["onUpdate:modelValue"]||(Q(d.value,t),d.value=t)),void 0!==i&&($=i)}function F(){n((()=>{!0!==l.isDeactivated&&!0!==l.isUnmounted&&H({width:c.value.offsetWidth,height:c.value.offsetHeight})})),r()}function H(t){if(void 0===R.value||null===u.value)return;const o=t[R.value.container],l=Math.min(u.value[R.value.scroll],Array.prototype.reduce.call(u.value.children,((e,t)=>e+t[R.value.content]),0)),i=o>0&&l>o;p.value!==i&&(p.value=i),!0===i&&(0,a.Y3)(M);const n=o<parseInt(e.breakpoint,10);m.value!==n&&(m.value=n)}function Q(t,o){const l=void 0!==t&&null!==t&&""!==t?f.find((e=>e.name.value===t)):null,i=void 0!==o&&null!==o&&""!==o?f.find((e=>e.name.value===o)):null;if(l&&i){const e=l.tabIndicatorRef.value,t=i.tabIndicatorRef.value;clearTimeout(g),e.style.transition="none",e.style.transform="",t.style.transition="none",t.style.transform="";const o=e.getBoundingClientRect(),n=t.getBoundingClientRect();window.nActive&&!window.isSorts?t.style.transform=`translate3d(0,${o.top-n.top}px,0) scale3d(1,${n.height?o.height/n.height:1},1)`:(t.style.transform=`translate3d(9px,${o.top-n.top+17}px,0) scale3d(1,${n.height?o.height/n.height:1},1)`,window.isSorts=!1),(0,a.Y3)((()=>{g=setTimeout((()=>{t.style.transition="transform .25s cubic-bezier(.4, 0, .2, 1)",t.style.transform="",setTimeout((()=>{t.style.transition=""}),250)}),70)}))}if(i&&!0===p.value){const{left:t,width:o,top:a,height:l}=u.value.getBoundingClientRect(),n=i.rootRef.value.getBoundingClientRect();let r=!0===e.vertical?n.top-a:n.left-t;if(r<0)return u.value[!0===e.vertical?"scrollTop":"scrollLeft"]+=Math.floor(r),void M();r+=!0===e.vertical?n.height-l:n.width-o,r>0&&(u.value[!0===e.vertical?"scrollTop":"scrollLeft"]+=Math.ceil(r),M())}}function V(){const t=u.value;if(null!==t){const o=t.getBoundingClientRect(),a=!0===e.vertical?t.scrollTop:t.scrollLeft;h.value=a>0,v.value=!0===e.vertical?Math.ceil(a+o.height)<t.scrollHeight:Math.ceil(a+o.width)<t.scrollWidth}}function J(e){Y(),j(e),x=setInterval((()=>{j(e)&&Y()}),5)}function N(){J(0)}function U(){J(9999)}function Y(){clearInterval(x)}function j(t){const o=u.value;let a=!0===e.vertical?o.scrollTop:o.scrollLeft,l=!1;const i=t<a?-1:1;return a+=5*i,a<0?(l=!0,a=0):(-1===i&&a<=t||1===i&&a>=t)&&(l=!0,a=t),o[!0===e.vertical?"scrollTop":"scrollLeft"]=a,M(),l}function D(){return f.filter((e=>void 0!==e.routerProps&&!0===e.routerProps.hasLink.value))}function z(){let e="",t=null,o=$;D().forEach((a=>{void 0!==a.routerProps&&!0===a.routerProps[!0===a.routerProps.exact.value?"linkIsExactActive":"linkIsActive"].value&&a.routerProps.linkRoute.value.href.length>e.length?(e=a.routerProps.linkRoute.value.href,t=a.name.value):d.value===a.name.value&&(o=!0)})),!0!==o&&null===t||L({name:t,setCurrent:!0,fromRoute:!0})}function E(){s(z)}function O(e){f.push(e);const t=D();t.length>0&&(void 0===A&&(A=(0,a.YP)((()=>l.proxy.$route),E)),E())}function K(e){if(f.splice(f.indexOf(e),1),void 0!==A){const e=D();0===e.length&&(A(),A=void 0),E()}}return(0,a.YP)((()=>e.modelValue),(e=>{L({name:e,setCurrent:!0,skipEmit:!0})})),(0,a.YP)((()=>e.outsideArrows),(()=>{(0,a.Y3)(F())})),(0,a.YP)(b,(e=>{M=!0===e?V:W.ZT,(0,a.Y3)(F())})),(0,a.JJ)(y.Nd,{currentModel:d,tabProps:P,registerTab:O,unregisterTab:K,verifyRouteModel:E,updateModel:L,recalculateScroll:F}),(0,a.Jd)((()=>{clearTimeout(g),void 0!==A&&A()})),(0,a.dl)(F),()=>{const o=[(0,a.h)(_.Z,{onResize:H}),(0,a.h)("div",{ref:u,class:Z.value,onScroll:M},(0,T.KR)(t.default))];return!0===b.value&&o.push((0,a.h)(k.Z,{class:"q-tabs__arrow q-tabs__arrow--left absolute q-tab__icon"+(!0===h.value?"":" q-tabs__arrow--faded"),name:e.leftIcon||i.iconSet.tabs[!0===e.vertical?"up":"left"],onMousedown:N,onTouchstartPassive:N,onMouseup:Y,onMouseleave:Y,onTouchend:Y}),(0,a.h)(k.Z,{class:"q-tabs__arrow q-tabs__arrow--right absolute q-tab__icon"+(!0===v.value?"":" q-tabs__arrow--faded"),name:e.rightIcon||i.iconSet.tabs[!0===e.vertical?"down":"right"],onMousedown:U,onTouchstartPassive:U,onMouseup:Y,onMouseleave:Y,onTouchend:Y})),(0,a.h)("div",{ref:c,class:I.value,role:"tablist"},o)}}});var $=o(6489),M=o(1436);let P=0;const B=["click","keyup"],I={icon:String,label:[Number,String],alert:[Boolean,String],alertIcon:String,name:{type:[Number,String],default:()=>"t_"+P++},noCaps:Boolean,tabindex:[String,Number],disable:Boolean,contentClass:String,ripple:{type:[Boolean,Object],default:!0}};function Z(e,t,o,l){const i=(0,a.f3)(y.Nd,(()=>{console.error("QTab/QRouteTab component needs to be child of QTabs")})),n=(0,w.iH)(null),r=(0,w.iH)(null),s=(0,w.iH)(null),c=(0,w.Fl)((()=>i.currentModel.value===e.name)),u=(0,w.Fl)((()=>`q-tab relative-position self-stretch flex flex-center text-center q-tab--${!0===c.value?"":"in"}active`+(!0===c.value?(i.tabProps.value.activeColor?` text-${i.tabProps.value.activeColor}`:"")+(i.tabProps.value.activeBgColor?` bg-${i.tabProps.value.activeBgColor}`:""):"")+(e.icon&&e.label&&!1===i.tabProps.value.inlineLabel?" q-tab--full":"")+(!0===e.noCaps||!0===i.tabProps.value.noCaps?" q-tab--no-caps":"")+(!0===e.disable?" disabled":" q-focusable q-hoverable cursor-pointer")+(void 0!==l&&""!==l.linkClass.value?` ${l.linkClass.value}`:""))),d=(0,w.Fl)((()=>"q-tab__content self-stretch flex-center relative-position q-anchor--skip non-selectable "+(!0===i.tabProps.value.inlineLabel?"row no-wrap q-tab__content--inline":"column")+(void 0!==e.contentClass?` ${e.contentClass}`:""))),p=(0,w.Fl)((()=>!0===e.disable||!0===c.value?-1:e.tabindex||0));function h(t,a){if(!0!==a&&null!==n.value&&n.value.focus(),!0!==e.disable)if(void 0!==l)if(!0===l.hasLink.value){const e=()=>{t.__qNavigate=!0,l.navigateToLink(t)};o("click",t,e),!0!==t.defaultPrevented&&e()}else o("click",t);else o("click",t)}function v(e){!0===(0,M.So)(e,13)&&h(e,!0),o("keyup",e)}function m(){const o=i.tabProps.value.narrowIndicator,l=[],r=(0,a.h)("div",{ref:s,class:["q-tab__indicator",i.tabProps.value.indicatorClass]});void 0!==e.icon&&l.push((0,a.h)(k.Z,{class:"q-tab__icon",name:e.icon})),void 0!==e.label&&l.push((0,a.h)("div",{class:"q-tab__label"},e.label)),!1!==e.alert&&l.push(void 0!==e.alertIcon?(0,a.h)(k.Z,{class:"q-tab__alert-icon",color:!0!==e.alert?e.alert:void 0,name:e.alertIcon}):(0,a.h)("div",{class:"q-tab__alert"+(!0!==e.alert?` text-${e.alert}`:"")})),!0===o&&l.push(r);const c=[(0,a.h)("div",{class:"q-focus-helper",tabindex:-1,ref:n}),(0,a.h)("div",{class:d.value},(0,T.vs)(t.default,l))];return!1===o&&c.push(r),c}const b={name:(0,w.Fl)((()=>e.name)),rootRef:r,tabIndicatorRef:s,routerProps:l};function f(t,o){const a={ref:r,class:u.value,tabindex:p.value,role:"tab","aria-selected":c.value,"aria-disabled":!0===e.disable?"true":void 0,onClick:h,onKeyup:v,...o};return(0,T.Jl)(t,a,m(),"main",!1!==e.ripple&&!1===e.disable,(()=>[[$.Z,e.ripple]]))}return(0,a.Jd)((()=>{i.unregisterTab(b),i.recalculateScroll()})),(0,a.bv)((()=>{i.registerTab(b),i.recalculateScroll()})),{renderTab:f,$tabs:i}}const R=(0,a.aZ)({name:"JTab",props:I,emits:B,setup(e,{slots:t,emit:o}){const{renderTab:a}=Z(e,t,o);return()=>a("div")}}),L=(0,a.aZ)({name:"MainLayout",components:{JTabs:A,JTab:R},methods:{to:function(e){this.$route.path!=e&&this.$router.push(e)},seMenu:function(){this.hActive=!1},frMenu:function(){this.hActive=!0},min:function(){electron.min()},max:function(){electron.max()},close:function(){electron.close()}},data(){return{hActive:!0,nActive:!0,part:"index",animateTimer:void 0,animateTimer1:void 0,tabs:"",sort:"",path:{"/":"home","/store":"recommend","/store/rank":"rank"},isSorts:!1,lsA:!0,mode:"spa"}},created(){window.Vue=this,this.$route.path.match("store")&&(this.$route.path.match("sorts")?(this.tabs="sorts",this.sort=this.$route.params.sort,this.hActive=!1,this.isSorts=!0):(this.tabs=this.path[this.$route.path],this.hActive=!0)),this.$watch((()=>this.nActive),((e,t)=>{window.nActive=e})),this.$watch((()=>this.$route.path),((e,t)=>{e.match("store")&&(e.match("sorts")?(this.seMenu(),this.sort=this.$route.params.sort,t.match("sorts")?this.tabs="sorts":(window.isSorts=!0,this.nActive?setTimeout((()=>{this.tabs="sorts",this.isSorts=!0}),900):this.tabs="sorts")):t.match("sorts")?(window.isSorts=!0,this.nActive?setTimeout((()=>{this.tabs=this.path[e],setTimeout((()=>{this.isSorts=!1,this.lsA=!1,this.frMenu(),setTimeout((()=>{this.lsA=!0}),400)}),150)}),100):(this.tabs=this.path[e],this.frMenu())):(this.tabs=this.path[e],this.frMenu()))})),window.nActive=!0}});var F=o(9214),H=o(4607),Q=o(9570),V=o(3747),J=o(5096),N=o(2025),U=o(7547),Y=o(2770),j=o(8408),D=o(2652),z=o(7518),E=o.n(z);L.render=g;const O=L;E()(L,"components",{QLayout:F.Z,QBtn:H.Z,QToolbar:Q.Z,QToolbarTitle:V.Z,QAvatar:J.Z,QSpace:N.Z,QTabs:U.Z,QRouteTab:Y.Z,QTab:j.Z,QPageContainer:D.Z})},5090:(e,t,o)=>{e.exports=o.p+"img/favicon-128x128.f83efe89.png"}}]);