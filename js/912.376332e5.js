"use strict";(self["webpackChunkspark_store"]=self["webpackChunkspark_store"]||[]).push([[912],{4912:(t,e,a)=>{a.r(e),a.d(e,{default:()=>B});a(7098);var s=a(3673),r=a(8880),l=a(2323);const o={class:"topbar"},i={class:"search"},n={class:"body relative-position"},d={class:"rank",key:"recommend"},p=(0,s._)("h5",null,"施工ing...",-1),u=[p],c={class:"rank",key:"rank"},h=(0,s._)("h5",null,"施工ing...",-1),m=[h],_={class:"sort applist",key:"sort"},g=["src"],w={class:"wrap"},k={class:"text"},v=(0,s._)("i",null,null,-1),f=(0,s._)("i",null,null,-1),y=(0,s._)("i",null,null,-1),S=(0,s._)("i",null,null,-1),$=(0,s._)("i",null,null,-1),q=(0,s._)("i",null,null,-1),I=(0,s._)("i",null,null,-1);function Z(t,e,a,p,h,Z){const Q=(0,s.up)("q-icon"),W=(0,s.up)("q-input"),b=(0,s.up)("q-avatar"),x=(0,s.up)("q-card-section"),z=(0,s.up)("q-card"),L=(0,s.up)("q-scroll-area"),j=(0,s.up)("q-page");return(0,s.wg)(),(0,s.j4)(j,{class:"flex storepage"},{default:(0,s.w5)((()=>[(0,s._)("div",o,[(0,s._)("div",i,[(0,s.Wm)(Q,{name:"search",size:"25px"}),(0,s.Wm)(W,{borderless:"",modelValue:t.searchStr,"onUpdate:modelValue":e[1]||(e[1]=e=>t.searchStr=e)},{append:(0,s.w5)((()=>[""!==t.searchStr?((0,s.wg)(),(0,s.j4)(Q,{key:0,name:"clear",class:"cursor-pointer",onClick:e[0]||(e[0]=e=>t.searchStr="")})):(0,s.kq)("",!0)])),_:1},8,["modelValue"])])]),(0,s.Wm)(L,{style:{width:"100%","margin-top":"52px"},"thumb-style":{"z-index":1,"border-radius":"100px"},visible:!1},{default:(0,s.w5)((()=>[(0,s._)("div",n,[(0,s.Wm)(r.W3,{appear:"","enter-active-class":"animated fadeIn","leave-active-class":"animated fadeOut"},{default:(0,s.w5)((()=>["/store"==t.$route.path&&t.loaded?((0,s.wg)(),(0,s.iD)("div",d,u)):(0,s.kq)("",!0),t.$route.path.match("rank")&&t.loaded?((0,s.wg)(),(0,s.iD)("div",c,m)):(0,s.kq)("",!0),t.$route.path.match("sort")&&t.loaded?((0,s.wg)(),(0,s.iD)("div",_,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(t.appList,((e,a)=>((0,s.wg)(),(0,s.j4)(z,{key:a},{default:(0,s.w5)((()=>[(0,s.Wm)(x,{horizontal:""},{default:(0,s.w5)((()=>[(0,s.Wm)(b,{size:"64px",rounded:""},{default:(0,s.w5)((()=>[(0,s._)("img",{src:t.source+"/store/"+t.$route.params.sort+"/"+e.package+"/icon.png"},null,8,g)])),_:2},1024),(0,s.Wm)(x,null,{default:(0,s.w5)((()=>[(0,s._)("h6",null,(0,l.zw)(e.application_name_zh),1),(0,s._)("div",w,[(0,s._)("div",k,(0,l.zw)(e.more),1)])])),_:2},1024)])),_:2},1024)])),_:2},1024)))),128)),v,f,y,S,$,q,I])):(0,s.kq)("",!0)])),_:1})])])),_:1})])),_:1})}var Q=a(52),W=a.n(Q),b=a(7849);const x={name:"PageIndex",data:()=>({appList:[],source:"https://d.store.deepinos.org.cn",imgSource:"https://cdn.jsdelivr.net/gh/Jerrywang959/jsonpng",dataSource:"https://store.deepinos.org/api/",searchStr:"",loaded:!0,sortId:{}}),methods:{getSortId:function(){W().post(`${this.dataSource}type/get_type_list`).then((t=>{t.data.data.forEach((t=>{this.sortId[t.orig_name]=t.type_id})),this.getAppList(this.$route.params)}))},getAppList:function(t){t.hasOwnProperty("sort")&&W().post(`${this.dataSource}application/get_application_list`,{size:1e4,type_id:this.sortId[t.sort]}).then((t=>{setTimeout((()=>{this.appList=t.data.data.data,this.loaded=!0}),800)}))}},created(){console.log("spa"),this.$watch((()=>this.$route.params),((t,e)=>{t.hasOwnProperty("sort")?this.loaded=!1:this.appList=[],setTimeout((()=>{this.getAppList(t)}),400)})),this.$route.params.hasOwnProperty("sort")&&(this.loaded=!1),this.getSortId(),this.$watch((()=>this.$route.path),((t,e)=>{t.match("store")&&(t.match("sorts")||(this.loaded=!1,setTimeout((()=>{this.loaded=!0}),1e3)))}))},setup(){(0,b.Z)({title:"WEB商店",titleTemplate:t=>`${t} - 星火应用商店`})}};var z=a(4379),L=a(4554),j=a(4553),A=a(1939),C=a(151),P=a(5589),D=a(5096),O=a(4027),T=a(6115),V=a(7518),E=a.n(V);x.render=Z;const B=x;E()(x,"components",{QPage:z.Z,QIcon:L.Z,QInput:j.Z,QScrollArea:A.Z,QCard:C.Z,QCardSection:P.Z,QAvatar:D.Z,QImg:O.Z,QField:T.Z})}}]);